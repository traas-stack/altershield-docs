<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-altershield-operator/overall-design">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Overall Design | AlterShield</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://traas-stack.github.io/altershield-docs/docs/altershield-operator/overall-design"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Overall Design | AlterShield"><meta data-rh="true" name="description" content="This document introduces the overall design of AlterShield Operator."><meta data-rh="true" property="og:description" content="This document introduces the overall design of AlterShield Operator."><link data-rh="true" rel="icon" href="/altershield-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://traas-stack.github.io/altershield-docs/docs/altershield-operator/overall-design"><link data-rh="true" rel="alternate" href="https://traas-stack.github.io/altershield-docs/docs/altershield-operator/overall-design" hreflang="en"><link data-rh="true" rel="alternate" href="https://traas-stack.github.io/altershield-docs/zh-CN/docs/altershield-operator/overall-design" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://traas-stack.github.io/altershield-docs/docs/altershield-operator/overall-design" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/altershield-docs/blog/rss.xml" title="AlterShield RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/altershield-docs/blog/atom.xml" title="AlterShield Atom Feed"><link rel="stylesheet" href="/altershield-docs/assets/css/styles.4dcc1744.css">
<link rel="preload" href="/altershield-docs/assets/js/runtime~main.0d147882.js" as="script">
<link rel="preload" href="/altershield-docs/assets/js/main.0d2b14c0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/altershield-docs/"><div class="navbar__logo"><img src="/altershield-docs/img/logo.png" alt="AlterShield" class="themedImage_ToTc themedImage--light_HNdA"><img src="/altershield-docs/img/logo.png" alt="AlterShield" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" href="/altershield-docs/docs/introduction/what-is-altershield">Document</a><a class="navbar__item navbar__link" href="/altershield-docs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/altershield-docs/docs/altershield-operator/overall-design" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/altershield-docs/zh-CN/docs/altershield-operator/overall-design" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中文（中国)</a></li></ul></div><a href="https://github.com/traas-stack/altershield" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/altershield-docs/docs/introduction/what-is-altershield">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/altershield-docs/docs/quick-start/start-with-docker">Quick Start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/altershield-docs/docs/open-change-management-specification/overview">Open Change Management Specification</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/altershield-docs/docs/change-defender/what-is-change-defender">Change Defender</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/altershield-docs/docs/altershield-operator/what-is-altershield-operator">AlterShield Operator</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/altershield-docs/docs/altershield-operator/what-is-altershield-operator">What is AlterShield Operator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/altershield-docs/docs/altershield-operator/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/altershield-docs/docs/altershield-operator/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/altershield-docs/docs/altershield-operator/quick-deploy">Quick Deploy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/altershield-docs/docs/altershield-operator/user-guide">User Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/altershield-docs/docs/altershield-operator/advanced-usage">Advanced Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/altershield-docs/docs/altershield-operator/overall-design">Overall Design</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/altershield-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">AlterShield Operator</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Overall Design</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Overall Design</h1><p>This document introduces the overall design of AlterShield Operator.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-source-directory-introduction">1. Source directory introduction<a href="#1-source-directory-introduction" class="hash-link" aria-label="Direct link to 1. Source directory introduction" title="Direct link to 1. Source directory introduction">​</a></h2><p>The directory structure of AlterShield Operator&#x27;s source code is as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./apis/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./bin/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./certs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./config/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./controllers/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./routers/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./main.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./Makefile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>apis/</code>：Contains the API for custom CRD (Custom Resource Definition) as well as the struct definitions related to Kubernetes&#x27; native API.</li><li><code>bin/</code>：Contains the executable file for AlterShield Operator.</li><li><code>certs/</code>：Contains the certificate files for AlterShield Operator, used for local debugging of Webhook.</li><li><code>config/</code>：Contains the configuration files for AlterShield Operator.</li><li><code>controllers/</code>：Contains the controller code for AlterShield Operator.</li><li><code>routers/</code>：Contains the router code for communication between AlterShield Operator and AlterShield Server.</li><li><code>runnable/</code>：Contains the background task code for AlterShield Operator.</li><li><code>main.go</code>：The entry file for AlterShield Operator.</li><li><code>Makefile</code>：The compilation file for AlterShield Operator.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-architecture-design">2. Architecture design<a href="#2-architecture-design" class="hash-link" aria-label="Direct link to 2. Architecture design" title="Direct link to 2. Architecture design">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-design-target">2.1. Design target<a href="#21-design-target" class="hash-link" aria-label="Direct link to 2.1. Design target" title="Direct link to 2.1. Design target">​</a></h3><p>As a Kubernetes Operator, the main function of AlterShield Operator is to control Workload by listening to CRD in Kubernetes and communicating with AlterShield Server. Specifically, the design goals of AlterShield Operator are as follows:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="211-version-confirmation-and-release-control">2.1.1. Version confirmation and release control<a href="#211-version-confirmation-and-release-control" class="hash-link" aria-label="Direct link to 2.1.1. Version confirmation and release control" title="Direct link to 2.1.1. Version confirmation and release control">​</a></h4><ul><li>Use Webhook to confirm the version and release control of Workload in Kubernetes. When a user submits a new version of Workload, AlterShield Operator sends a request through Webhook to confirm the version and release control with AlterShield Server, ensuring that the submitted version complies with security standards and can be deployed correctly to the Kubernetes cluster.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="212-real-time-monitoring">2.1.2. Real-time monitoring<a href="#212-real-time-monitoring" class="hash-link" aria-label="Direct link to 2.1.2. Real-time monitoring" title="Direct link to 2.1.2. Real-time monitoring">​</a></h4><ul><li>Use Watch to monitor Workload and Pod in Kubernetes in real-time. When a change occurs in Workload or Pod in Kubernetes, AlterShield Operator detects and processes it in real-time to ensure that the status of Workload and Pod in the Kubernetes cluster is synchronized with AlterShield Server.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="213-release-status-summary">2.1.3. Release status summary<a href="#213-release-status-summary" class="hash-link" aria-label="Direct link to 2.1.3. Release status summary" title="Direct link to 2.1.3. Release status summary">​</a></h4><ul><li>Use ChangeWorkload to summarize the release status of Workload in Kubernetes. When a user submits a new version of Workload, AlterShield Operator records its status in ChangeWorkload and periodically sends requests to AlterShield Server to update the release status of Workload. This way, users can easily check the release status and change history of Workload.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="214-release-status-verification">2.1.4. Release status verification<a href="#214-release-status-verification" class="hash-link" aria-label="Direct link to 2.1.4. Release status verification" title="Direct link to 2.1.4. Release status verification">​</a></h4><ul><li>Use ChangePod and communication with AlterShield Server to verify the release status of Pod in Kubernetes. When a change occurs in Pod in Kubernetes, AlterShield Operator checks its status and verifies its release status through communication with AlterShield Server.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="215-configuration-update">2.1.5. Configuration update<a href="#215-configuration-update" class="hash-link" aria-label="Direct link to 2.1.5. Configuration update" title="Direct link to 2.1.5. Configuration update">​</a></h4><ul><li>Use OpsConfigInfo to update the configuration of Operator. When a user needs to modify the configuration of AlterShield Operator, they can modify the parameters in OpsConfigInfo to achieve the desired effect. AlterShield Operator will detect the changes in parameters in a timely manner and update its configuration accordingly.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-system-composition">2.2. System composition<a href="#22-system-composition" class="hash-link" aria-label="Direct link to 2.2. System composition" title="Direct link to 2.2. System composition">​</a></h3><p>AlterShield Operator consists of the following components:</p><ul><li>Controller：Responsible for listening to CR and custom CRD in Kubernetes and responding accordingly.</li><li>Webhook：Responsible for version confirmation and release control of Workload in Kubernetes.</li><li>Router：Responsible for callback processing between AlterShield Operator and AlterShield Server.</li><li>Runnable：Responsible for asynchronous background tasks.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-system-flow">2.3. System flow<a href="#23-system-flow" class="hash-link" aria-label="Direct link to 2.3. System flow" title="Direct link to 2.3. System flow">​</a></h3><p>The operating process of AlterShield Operator is as follows:
<img loading="lazy" alt="img.png" src="/altershield-docs/assets/images/img-bcb9a9f0606e8aaa71a60c173c552128.png" width="2000" height="826" class="img_ev3q">
The relationship between Operator Controller is as follows:
<img loading="lazy" alt="img_1.png" src="/altershield-docs/assets/images/controller-fbe8a91f098797ae854b4f53cb302aab.png" width="1392" height="614" class="img_ev3q"></p><ul><li><ol><li>The Webhook listens to the Deployment in Kubernetes. If the Template of the Deployment is changed, it updates the Version Label of the Deployment and determines whether to block the release. The Version Label is a label used to mark the version of the Deployment. Whenever the Template of the Deployment is changed, the value of the Version Label will be updated accordingly. This label helps AlterShield Operator to perform version control and management.</li></ol></li><li><ol start="2"><li>The Deployment Controller listens to the Deployment in Kubernetes and creates a corresponding version of ChangeWorkload. ChangeWorkload is a custom resource type in AlterShield Operator that records the version change history of the Deployment. When the Template of the Deployment is changed, the Deployment Controller creates a new ChangeWorkload to record the information of the new version of the Deployment.</li></ol></li><li><ol start="3"><li>The Pod Controller listens to the Pod in Kubernetes and determines whether it is a finished Pod. If it is, it adds a Finished Label. The Finished Label is a label used to mark the finished Pod, which helps AlterShield Operator locate the finished Pod and calculate the number of finished Pods.</li></ol></li><li><ol start="4"><li>The ChangeWorkload Controller listens to the ChangeWorkload and finished Pod in Kubernetes. When the number of finished Pods reaches the threshold, it creates a ChangePod in the Init state. ChangePod is another custom resource type in AlterShield Operator that records the status and callback results of the released Pods. When the number of finished Pods reaches the threshold, the ChangeWorkload Controller creates a ChangePod in the Init state, which will pass the Pod information to the AlterShield Server in the future.</li></ol></li><li><ol start="5"><li>The ChangePod Controller listens to the ChangePod in Kubernetes. When the status of the ChangePod is Init, it selects no more than the threshold number of Finished Pods and passes the information to the AlterShield Server to achieve the callback function through Router and CallBack Handle. The ChangePod Controller listens to the callback results of the AlterShield Server and updates the status of the ChangePod according to the callback results.</li></ol></li><li><ol start="6"><li>The ChangePod Controller listens to the ChangePod in Kubernetes. When the status of the ChangePod is Callback Finished, it updates the status of the ChangePod according to the callback results and sets the status of the ChangePod to Done. It then sends this information to the ChangeWorkload Controller.</li></ol></li><li><ol start="7"><li>The ChangeWorkload Controller listens to the ChangeWorkload and Done ChangePod in Kubernetes. It updates the status of the ChangeWorkload according to the status of the ChangePod and determines whether to block the release. If the status of all the Pods in the ChangePod passes the verification, the ChangeWorkload Controller will update the status of the ChangeWorkload to Success. Otherwise, it will update it to Suspend.</li></ol></li><li><ol start="8"><li>The Rollback Runnable checks the Pod in Kubernetes. If a Pod has not reached the Running state for a long time (default 2 minutes), it triggers the Rollback mechanism. Rollback Runnable is a background task in AlterShield Operator used to check the status of Pods. If a Pod has been in a non Running state for a long time, it triggers an automatic rollback operation to ensure the stability of the Kubernetes cluster.</li></ol></li><li><ol start="9"><li>The Rollback Runnable listens to the ChangeWorkload in Kubernetes. When the status of the ChangeWorkload is Rollback, it triggers the Rollback mechanism. The Rollback Runnable also listens to the status of the ChangeWorkload. If the status of the ChangeWorkload is Rollback, it triggers an automatic rollback operation to ensure the stability of the Kubernetes cluster. (Under construction)</li></ol></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-webhook-debugging">3. Webhook debugging<a href="#3-webhook-debugging" class="hash-link" aria-label="Direct link to 3. Webhook debugging" title="Direct link to 3. Webhook debugging">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-local-debugging">3.1. Local debugging<a href="#31-local-debugging" class="hash-link" aria-label="Direct link to 3.1. Local debugging" title="Direct link to 3.1. Local debugging">​</a></h3><p><strong>This article will take <a href="https://minikube.sigs.k8s.io/" target="_blank" rel="noopener noreferrer">MINIKUBE</a> as an example to introduce how to debug Webhook locally.</strong></p><ul><li><ol><li>Start MiniKube</li></ol></li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">minikube start --driver</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">docker</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><ol start="2"><li>use minikube ssh to confirm connectivity</li></ol></li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">minikube </span><span class="token function" style="color:#d73a49">ssh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><ol start="3"><li>Get the IP address that is accessible from the cluster to the host</li></ol></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ping host.minikube.internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PING host.minikube.internal (192.168.64.1): 56 data bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">64 bytes from 192.168.64.1: seq=0 ttl=64 time=0.225 ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><ol start="4"><li><code>192.168.64.1</code> is the IP address that is accessible from the cluster to the host，Modify <code>{IP_Address}</code> in <code>config/dev/kustomization.yaml</code> to 192.168.64.1.</li></ol></li></ul><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">bases</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ../default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">patches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">patch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      - op: &quot;remove&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        path: &quot;/spec/dnsNames&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Certificate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">patch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      - op: &quot;add&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        path: &quot;/spec/ipAddresses&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        value: [&quot;{IP_Address}&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Certificate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">patch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      - op: &quot;add&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        path: &quot;/webhooks/0/clientConfig/url&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        value: &quot;https://{IP_Address}:1443/mutate-apps-v1-deployment&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MutatingWebhookConfiguration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">patch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      - op: &quot;add&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        path: &quot;/webhooks/0/clientConfig/url&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        value: &quot;https://{IP_Address}:1443/validate-apps-v1-deployment&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ValidatingWebhookConfiguration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">patch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      - op: &quot;remove&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        path: &quot;/webhooks/0/clientConfig/service&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MutatingWebhookConfiguration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">patch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      - op: &quot;remove&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        path: &quot;/webhooks/0/clientConfig/service&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ValidatingWebhookConfiguration</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><ol start="6"><li>After modification, execute the command to deploy the debug version</li></ol></li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">make</span><span class="token plain"> dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><ol start="7"><li>Use the following command to check whether the Webhook has been successfully deployed.</li></ol></li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get mutatingwebhookconfigurations.admissionregistration.k8s.io altershieldoperator-mutating-webhook-configuration -o yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get validatingwebhookconfigurations.admissionregistration.k8s.io altershieldoperator-validating-webhook-configuration -o yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> admissionregistration.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MutatingWebhookConfiguration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">cert-manager.io/inject-ca-from</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> altershieldoperator</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system/altershieldoperator</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">serving</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cert</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">kubectl.kubernetes.io/last-applied-configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      {&quot;apiVersion&quot;:&quot;admissionregistration.k8s.io/v1&quot;,&quot;kind&quot;:&quot;MutatingWebhookConfiguration&quot;,&quot;metadata&quot;:{&quot;annotations&quot;:{&quot;cert-manager.io/inject-ca-from&quot;:&quot;altershieldoperator-system/altershieldoperator-serving-cert&quot;},&quot;labels&quot;:{&quot;app.kubernetes.io/component&quot;:&quot;webhook&quot;,&quot;app.kubernetes.io/created-by&quot;:&quot;altershieldoperator&quot;,&quot;app.kubernetes.io/instance&quot;:&quot;mutating-webhook-configuration&quot;,&quot;app.kubernetes.io/managed-by&quot;:&quot;kustomize&quot;,&quot;app.kubernetes.io/name&quot;:&quot;mutatingwebhookconfiguration&quot;,&quot;app.kubernetes.io/part-of&quot;:&quot;altershieldoperator&quot;},&quot;name&quot;:&quot;altershieldoperator-mutating-webhook-configuration&quot;},&quot;webhooks&quot;:[{&quot;admissionReviewVersions&quot;:[&quot;v1&quot;],&quot;clientConfig&quot;:{&quot;url&quot;:&quot;https://192.168.65.2:1443/mutate-apps-v1-deployment&quot;},&quot;failurePolicy&quot;:&quot;Fail&quot;,&quot;name&quot;:&quot;mdeployment.kb.io&quot;,&quot;namespaceSelector&quot;:{&quot;matchLabels&quot;:{&quot;admission-webhook-altershield&quot;:&quot;enabled&quot;}},&quot;rules&quot;:[{&quot;apiGroups&quot;:[&quot;apps&quot;],&quot;apiVersions&quot;:[&quot;v1&quot;],&quot;operations&quot;:[&quot;CREATE&quot;,&quot;UPDATE&quot;],&quot;resources&quot;:[&quot;deployments&quot;]}],&quot;sideEffects&quot;:&quot;None&quot;}]}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">creationTimestamp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-05-11T07:29:29Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">generation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/component</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> webhook</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/created-by</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> altershieldoperator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mutating</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">webhook</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/managed-by</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kustomize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mutatingwebhookconfiguration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/part-of</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> altershieldoperator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> altershieldoperator</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">mutating</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">webhook</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">resourceVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;197855&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">uid</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1b417fb7</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">2deb</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">47c1</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">a006</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">67a352a90d2e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">webhooks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">admissionReviewVersions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">clientConfig</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">caBundle</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//192.168.64.1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">1443/mutate</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">apps</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">v1</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">failurePolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Fail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Equivalent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mdeployment.kb.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">namespaceSelector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">admission-webhook-altershield</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">objectSelector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">reinvocationPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Never</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">apiGroups</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> apps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">apiVersions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">operations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> CREATE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> UPDATE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> deployments</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">scope</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;*&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">sideEffects</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">timeoutSeconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> admissionregistration.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ValidatingWebhookConfiguration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">cert-manager.io/inject-ca-from</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> altershieldoperator</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system/altershieldoperator</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">serving</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cert</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">kubectl.kubernetes.io/last-applied-configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      {&quot;apiVersion&quot;:&quot;admissionregistration.k8s.io/v1&quot;,&quot;kind&quot;:&quot;ValidatingWebhookConfiguration&quot;,&quot;metadata&quot;:{&quot;annotations&quot;:{&quot;cert-manager.io/inject-ca-from&quot;:&quot;altershieldoperator-system/altershieldoperator-serving-cert&quot;},&quot;labels&quot;:{&quot;app.kubernetes.io/component&quot;:&quot;webhook&quot;,&quot;app.kubernetes.io/created-by&quot;:&quot;altershieldoperator&quot;,&quot;app.kubernetes.io/instance&quot;:&quot;validating-webhook-configuration&quot;,&quot;app.kubernetes.io/managed-by&quot;:&quot;kustomize&quot;,&quot;app.kubernetes.io/name&quot;:&quot;validatingwebhookconfiguration&quot;,&quot;app.kubernetes.io/part-of&quot;:&quot;altershieldoperator&quot;},&quot;name&quot;:&quot;altershieldoperator-validating-webhook-configuration&quot;},&quot;webhooks&quot;:[{&quot;admissionReviewVersions&quot;:[&quot;v1&quot;],&quot;clientConfig&quot;:{&quot;url&quot;:&quot;https://192.168.65.2:1443/validate-apps-v1-deployment&quot;},&quot;failurePolicy&quot;:&quot;Fail&quot;,&quot;name&quot;:&quot;vdeployment.kb.io&quot;,&quot;namespaceSelector&quot;:{&quot;matchLabels&quot;:{&quot;admission-webhook-altershield&quot;:&quot;enabled&quot;}},&quot;rules&quot;:[{&quot;apiGroups&quot;:[&quot;apps&quot;],&quot;apiVersions&quot;:[&quot;v1&quot;],&quot;operations&quot;:[&quot;CREATE&quot;,&quot;UPDATE&quot;],&quot;resources&quot;:[&quot;deployments&quot;]}],&quot;sideEffects&quot;:&quot;None&quot;}]}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">creationTimestamp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-05-11T07:29:29Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">generation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/component</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> webhook</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/created-by</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> altershieldoperator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> validating</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">webhook</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/managed-by</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kustomize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> validatingwebhookconfiguration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/part-of</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> altershieldoperator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> altershieldoperator</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">validating</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">webhook</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">resourceVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;197856&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">uid</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> b3ea5378</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">1d88</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">491a</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">8c10</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">0e40e5495852</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">webhooks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">admissionReviewVersions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">clientConfig</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">caBundle</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//192.168.64.1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">1443/validate</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">apps</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">v1</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">failurePolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Fail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Equivalent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vdeployment.kb.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">namespaceSelector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">admission-webhook-altershield</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">objectSelector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">apiGroups</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> apps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">apiVersions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">operations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> CREATE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> UPDATE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> deployments</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">scope</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;*&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">sideEffects</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">timeoutSeconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Note：</strong> In the above configuration, the Webhook service will call the 1443 port on the local machine. If there is a Deployment release, it will fail due to certificate issues, so the certificate needs to be exported to the local project.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-exporting-certificates-from-the-cluster">3.2. Exporting Certificates from the Cluster<a href="#32-exporting-certificates-from-the-cluster" class="hash-link" aria-label="Direct link to 3.2. Exporting Certificates from the Cluster" title="Direct link to 3.2. Exporting Certificates from the Cluster">​</a></h3><ul><li>Run the following command to view the certificates in the cluster:</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get secret -n altershieldoperator-system -o yaml </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">items</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">ca.crt</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">tls.crt</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">tls.key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">cert-manager.io/alt-names</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">cert-manager.io/certificate-name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> altershieldoperator</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">serving</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cert</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">cert-manager.io/common-name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">cert-manager.io/ip-sans</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.65.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">cert-manager.io/issuer-group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">cert-manager.io/issuer-kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Issuer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">cert-manager.io/issuer-name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> altershieldoperator</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">selfsigned</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">issuer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">cert-manager.io/uri-sans</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">creationTimestamp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-05-11T07:29:29Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> webhook</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cert</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> altershieldoperator</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">resourceVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;197854&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">uid</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 25261ced</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">e462</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">4634</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">910c</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">d5862ed60720</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kubernetes.io/tls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">resourceVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Export the certificate to the local project:</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get secrets webhook-server-cert -n  altershieldoperator-system -o </span><span class="token assign-left variable" style="color:#36acaa">jsonpath</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;{..tls\.crt}&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">base64 -d </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> ./certs/tls.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get secrets webhook-server-cert -n  altershieldoperator-system -o </span><span class="token assign-left variable" style="color:#36acaa">jsonpath</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;{..tls\.key}&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">base64 -d </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> ./certs/tls.key</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>View the certificate files in the local project:</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#cat ./certs/tls.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-----BEGIN CERTIFICATE-----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MIICvzCCAaegAwIBAgIRAO3ytpgp5rNYOJ7X8dmJBoEwDQYJKoZIhvcNAQELBQAw</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADAeFw0yMzA1MTEwNzI5MjlaFw0yMzA4MDkwNzI5MjlaMAAwggEiMA0GCSqGSIb3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DQEBAQUAA4IBDwAwggEKAoIBAQDq5AkCmWdCKB/H2dDgiikvl0T66tnSiA2CnYme</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BuoGhWLZyo0zwF+XTrbdbjsswdY0zliv4dfv4i+4vgdI0lP2uM4YdCYEw5vog68n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b7t1jwMbT8ipBqLxOWaGcqBidOrVFrUvs89gQDa1gNyUvBivzwyfTwxV/4EPf7ic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5mr7gMJY7akKz6u/zTuIL2h+C0wmge/xmfDzLKE9QY/H021Pq12X0G7tLDqweFQO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6tJTMqgICQaLCvas+iYdYReLdQDPIylFYb8Pw87f+AJB+snucmwNQWOlZTvaFi6p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S4b5NoDilUlAXco9cIS43w8JjyqzT3/Lw7+MiAJavwXe5wpxAgMBAAGjNDAyMA4G</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A1UdDwEB/wQEAwIFoDAMBgNVHRMBAf8EAjAAMBIGA1UdEQEB/wQIMAaHBMCoQQIw</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DQYJKoZIhvcNAQELBQADggEBAH0HQVrF0cdmK8F+eWJyY49Q9pR/h3EqGGHOmJEv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">XFuPdL22n4hRV+7rRtveBX1nsuKRapdqrocyB80LrtociinQL61fxsS2eb85xOho</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CfP33rIOvlaBGhZwlBWnUJmIsfbKpW0/xDKFgmeusHfV1OoClz8IKjkGGqq1s0Uw</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DSW/2emxFIeGi2mrrIr3T2XZ153MKNYOZ4oYURi6iuPr2zGpvKh6OZjoHIjcAhQK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BX+djGGOa9rLgtx0b1GHqj6GYgd9y4ygQXjVvTG1wUIOapN7bU2R2cs/WiwcCk8U</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nnp48sVBVYlEPxea1GmxmJPloMYVZqiXg5uOEa65Lzt+RbE=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-----END CERTIFICATE-----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#cat ./certs/tls.key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-----BEGIN RSA PRIVATE KEY-----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MIIEpAIBAAKCAQEA6uQJAplnQigfx9nQ4IopL5dE+urZ0ogNgp2JngbqBoVi2cqN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">M8Bfl0623W47LMHWNM5Yr+HX7+IvuL4HSNJT9rjOGHQmBMOb6IOvJ2+7dY8DG0/I</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qQai8TlmhnKgYnTq1Ra1L7PPYEA2tYDclLwYr88Mn08MVf+BD3+4nOZq+4DCWO2p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cs+rv807iC9ofgtMJoHv8Znw8yyhPUGPx9NtT6tdl9Bu7Sw6sHhUDurSUzKoCAkG</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">iwr2rPomHWEXi3UAzyMpRWG/D8PO3/gCQfrJ7nJsDUFjpWU72hYuqUuG+TaA4pVJ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">QF3KPXCEuN8PCY8qs09/y8O/jIgCWr8F3ucKcQIDAQABAoIBABT4dOF5hqF+aY/z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">H1Xcn96y16K7MuU75lDh9bZZEa2xXOjqz35uT1p32ZWdUMUnLROb1IknVZsCC5an</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yIi01nAxgZznSbmlKRcyIoIX1JmjQfi/P7/var60jDW2qCECJTEPDPAMUphaQ0gj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EA5rWJzhlFPov8YxwHj8wyOm4qg/Y8nAHSawS6t0v7MQlym/LNKY/JUJ5rZBLH3/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MBypwzcSGPCiMnn7BjN294DbH/zcijWjKnv96fd8IfSAfyI4V8e60yqa4O0gR01e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aRTP6EKy/8k2mIJq0ub8AguD+tfSdHFQotQGzvIQYczNZDabE2MAcyLVJNq4Yaua</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/AIpjAECgYEA/mqCNoz2fBeigXFgr6EfVpEk7HEDPvbdkOI8eCUJoiQdN2XHvXIH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FfLT/1BdMuoEJGpO/zVCvSsT2QYh5upUuxvEzUZYUR8zHMnQTEpI9ErtmCoFZmte</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dZbCFNmYps5z1R+Ze7O/3PlE62S00D4FcrBaGTFWKuuKFldbu0k2N7ECgYEA7Fpo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">K4hUYScTnlBfwQeyku4PNm4PVXDUIOME0zZfkPEhjaPJSkJrRZ8urhidEw0aFAmm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PzN2UgkXuRb27PShTOqwnrN5G674XzvAbv14eIyUsFnJ78s6kHR3oIxciO6LAVpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wpT9WpE/xm4lY1RBC4h073Nug1owWi8zLgHpbsECgYEAwEzBH3ps1F8I9c48xoOC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rGwI/K5vRahS0LAwBJ/6KBQkATttPkRyFqT0mIal61X2y4+PJlebmmB1IBUCiweU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A9l5Z69EEg0DFT91sjRz8DKyY9FfQ4rkWv0YtanDOFHUO8Mmv9mdq+i9ry7vfHdk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">psulTmV8O/TM6xYcv/MWiAECgYEAwDQZCGW6MLNladX0uHX5CzFa36mLALFbYE8d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SmGqP6VH4vYxqBjxQVHc1Skg+zApZ+gc8MJ50uagCx2YukOJtJIaBUTwFMoqIs/l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpzPzkCMXgj2hfGf838zFTVvvs817Wi+XJFqoq8BzO0frHIE30sdxOf7FAhQz9YY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aa6WVUECgYBuXdVg6zcw4YxnrWGMw7k0+vzeJF8PlNF0ajXlXEwlUJVrTFOABTwk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2d3hBI4h060PE8f+3QClEPgh1+sc8RhkLRoOUkRzFghMssKa8CKPBkG7BTpkV4Wv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bEls6FRqab96RlpLk+hjNnsCxl+EcKklxEYVXC+cRKeZERt6g7gfZg==</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-----END RSA PRIVATE KEY-----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-local-launch-and-debugging">3.3. Local launch and debugging<a href="#33-local-launch-and-debugging" class="hash-link" aria-label="Direct link to 3.3. Local launch and debugging" title="Direct link to 3.3. Local launch and debugging">​</a></h3><p>During the development process of Webhook, you can launch locally using the following steps:</p><ul><li><a href="/altershield-docs/docs/altershield-operator/quick-start">Quick Start</a></li></ul><p><strong>At this point, when a Deployment is released in the Namespace controlled by the cluster, it will trigger the call of the Webhook to the local machine, and you can see the log output of the Webhook</strong></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/altershield-docs/docs/altershield-operator/advanced-usage"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Advanced Usage</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-source-directory-introduction" class="table-of-contents__link toc-highlight">1. Source directory introduction</a></li><li><a href="#2-architecture-design" class="table-of-contents__link toc-highlight">2. Architecture design</a><ul><li><a href="#21-design-target" class="table-of-contents__link toc-highlight">2.1. Design target</a></li><li><a href="#22-system-composition" class="table-of-contents__link toc-highlight">2.2. System composition</a></li><li><a href="#23-system-flow" class="table-of-contents__link toc-highlight">2.3. System flow</a></li></ul></li><li><a href="#3-webhook-debugging" class="table-of-contents__link toc-highlight">3. Webhook debugging</a><ul><li><a href="#31-local-debugging" class="table-of-contents__link toc-highlight">3.1. Local debugging</a></li><li><a href="#32-exporting-certificates-from-the-cluster" class="table-of-contents__link toc-highlight">3.2. Exporting Certificates from the Cluster</a></li><li><a href="#33-local-launch-and-debugging" class="table-of-contents__link toc-highlight">3.3. Local launch and debugging</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Repository</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/traas-stack/altershield" target="_blank" rel="noopener noreferrer" class="footer__link-item">AlterShield</a></li><li class="footer__item"><a href="https://github.com/traas-stack/altershield-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">AlterShield-Doc</a></li><li class="footer__item"><a href="https://github.com/traas-stack/altershield-operator" target="_blank" rel="noopener noreferrer" class="footer__link-item">AlterShield-Operator</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://altershield.slack.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:altershield.io@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/traas-stack/altershield/blob/main/docs/dingtalk.png" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dingtalk group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/traas-stack/altershield/blob/main/docs/wechat.jpg" target="_blank" rel="noopener noreferrer" class="footer__link-item">WeChat Official Account<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/altershield-docs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/traas-stack/altershield" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 AlterShield.</div></div></div></footer></div>
<script src="/altershield-docs/assets/js/runtime~main.0d147882.js"></script>
<script src="/altershield-docs/assets/js/main.0d2b14c0.js"></script>
</body>
</html>